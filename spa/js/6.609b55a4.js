(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"0ade":function(t,e,a){"use strict";(function(t){var s=a("c973"),i=a.n(s);a("b0c0"),a("a4d3"),a("e01a"),a("99af"),a("96cf");e["a"]={name:"PageSingleProduct",data:function(){return{slide:1,tab:"商品介紹",model:!1,name:"",price:"",description:"",category:"",sell:!0,image1:"",image2:"",image3:"",image4:"",imageText1:"",imageText2:"",imageText3:"",imageText4:""}},computed:{number:function(){return this.$store.state.user.number}},methods:{numberAdd:function(){this.$store.commit("user/numberAdd")},numberSub:function(){this.$store.commit("user/numberSub")},addCart:function(){var t=this;this.number<1?this.$q.notify({message:"請輸入正確數量",timeout:1e3,type:"negative",color:"faded",textColor:"white",position:"top"}):0===this.$store.state.user.jwt.token.length?(this.$store.commit("user/beforeLogin",this.$route.params.id),this.$q.notify({message:"已加入購物車",timeout:1e3,type:"positive",color:"faded",textColor:"white",position:"top"})):this.$store.dispatch("user/addCart",{product:this.$route.params.id}).then((function(e){t.$q.notify({message:"已加入購物車",timeout:1e3,type:"positive",color:"faded",textColor:"white",position:"top"})})).catch((function(e){console.log(e),t.$q.notify({message:"加入購物車失敗",timeout:1e3,type:"negative",color:"faded",textColor:"white",position:"top"})}))},addFav:function(){var t=this;return i()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return 0===t.$store.state.user.jwt.token.length&&t.$q.notify({message:"請先登入",timeout:1e3,type:"negative",color:"faded",textColor:"white",position:"top"}),e.prev=1,e.next=4,t.$axios.post("/users/favorite",{product:t.$route.params.id,amount:1},{headers:{authorization:"Bearer "+t.$store.state.user.jwt.token}});case 4:t.$q.notify({message:"已加入我的最愛",timeout:1e3,type:"positive",color:"faded",textColor:"white",position:"top"}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))()}},mounted:function(){var e=this;return i()(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$axios.get("/products/"+e.$route.params.id);case 3:s=a.sent,i=s.data,e.name=i.result.name,e.price=i.result.price,e.description=i.result.description,e.category=i.result.category,e.sell=i.result.sell,!1===e.sell&&(e.model=!0),e.image1="".concat(t.env.API_URL,"/files/").concat(i.result.image1),e.image2="".concat(t.env.API_URL,"/files/").concat(i.result.image2),e.image3="".concat(t.env.API_URL,"/files/").concat(i.result.image3),e.image4="".concat(t.env.API_URL,"/files/").concat(i.result.image4),e.imageText1=i.result.image1,e.imageText2=i.result.image2,e.imageText3=i.result.image3,e.imageText4=i.result.image4,document.title="".concat(e.name," | 任由尼甜點"),a.next=25;break;case 22:a.prev=22,a.t0=a["catch"](0),e.$router.push("/");case 25:case"end":return a.stop()}}),a,null,[[0,22]])})))()}}}).call(this,a("4362"))},aa06:function(t,e,a){t.exports=a.p+"img/line.0630f74b.png"},d280:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"q-pa-lg",attrs:{id:"singleproduct"}},[s("div",{staticClass:"container"},[s("q-breadcrumbs",{staticClass:"text-bread q-pb-md q-pl-md",attrs:{"active-color":"text-bread"},scopedSlots:t._u([{key:"separator",fn:function(){return[s("q-icon",{attrs:{size:"1.5em",name:"chevron_right",color:"text-bread"}})]},proxy:!0}])},[s("q-breadcrumbs-el",{attrs:{label:"首頁",icon:"home",to:"/"}}),s("q-breadcrumbs-el",{attrs:{label:"商品列表",to:"/productlist"}}),s("q-breadcrumbs-el"),s("span",{staticStyle:{"margin-left":"0"}},[t._v(t._s(t.name))])],1),s("q-overlay",{scopedSlots:t._u([{key:"body",fn:function(){return[s("div",{staticClass:"absolute fit row text-white text-h5 justify-center items-center"},[t._v("\n          已下架\n        ")])]},proxy:!0}]),model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"left-image col-12 col-md-6"},[s("div",{staticClass:"q-pa-md"},[s("div",{staticClass:"mobile-only"},[s("q-img",{attrs:{src:t.image1}})],1),s("q-carousel",{staticClass:"carousel mobile-hide",attrs:{swipeable:"",animated:"",thumbnails:"",infinite:""},model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},[void 0!==t.imageText1?s("q-carousel-slide",{attrs:{name:1,"img-src":t.image1}}):t._e(),void 0!==t.imageText2?s("q-carousel-slide",{attrs:{name:2,"img-src":t.image2}}):t._e(),void 0!==t.imageText3?s("q-carousel-slide",{attrs:{name:3,"img-src":t.image3}}):t._e(),void 0!==t.imageText4?s("q-carousel-slide",{attrs:{name:4,"img-src":t.image4}}):t._e()],1)],1)]),s("div",{staticClass:"right-text col-12 col-md-6 column justify-evenly"},[s("h5",{staticClass:"text-weight-bold"},[t._v(t._s(t.name))]),s("div",[s("span",{staticClass:"text-grey-6",staticStyle:{"font-size":"14px"}},[t._v("建議售價")]),s("h5",{staticClass:"text-cart text-weight-bold"},[t._v("NT$"+t._s(t.price))])]),s("div",[s("span",{staticClass:"text-grey-6",staticStyle:{"font-size":"14px"}},[t._v("數量")]),s("q-input",{staticClass:"product-input",attrs:{type:"number",readonly:"",outlined:"",rules:[function(t){return t>0||"請輸入正確數量"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-btn",{staticClass:"number-btn",attrs:{dense:"",flat:"",icon:"remove"},on:{click:t.numberSub}})]},proxy:!0},{key:"append",fn:function(){return[s("q-btn",{staticClass:"number-btn",attrs:{dense:"",flat:"",icon:"add"},on:{click:t.numberAdd}})]},proxy:!0}]),model:{value:t.number,callback:function(e){t.number=t._n(e)},expression:"number"}})],1),s("div",{staticClass:"text-cart",staticStyle:{"white-space":"nowrap"}},[s("q-btn",{staticStyle:{width:"50%"},on:{click:t.addCart}},[t._v("加入購物車")]),s("q-btn",{staticStyle:{width:"50%"},on:{click:t.addFav}},[t._v("我的最愛")])],1),s("div",{staticStyle:{"white-space":"pre-line"}},[t._v("\n            🏷️ 消費滿300元可鳳山面交\n            🏷️ 消費滿500元可高雄外送到府（照距離加收70-100元）\n            🏷️ 宅配皆有風險，可接受再下單\n          ")])])])]),s("div",{staticClass:"q-gutter-y-md",staticStyle:{padding:"50px 0px 100px 0"}},[s("q-tabs",{staticClass:"bg-grey-1 text-bread",attrs:{align:"justify"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab",{attrs:{ripple:!1,name:"商品介紹",label:"商品介紹"}}),s("q-tab",{attrs:{ripple:!1,name:"宅配須知",label:"宅配須知"}}),s("q-tab",{attrs:{ripple:!1,name:"面交須知",label:"面交須知"}})],1),s("q-tab-panels",{attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab-panel",{attrs:{name:"商品介紹"}},[t._v("\n          "+t._s(t.description)+"\n        ")]),s("q-tab-panel",{attrs:{name:"宅配須知"}},[t._v("\n          宅配週日休息，週一上工，\n          所以週六寄出基本上會在周二才到貨。\n          外縣市宅配請先於到貨日前三天將款項匯款完成，\n          並告知其帳號後五碼，我們將會排入製程並完成配送。\n          "),s("img",{staticClass:"line",attrs:{src:a("aa06")}}),t._v("\n          宅配途中因路面顛簸可能造成的輕微毀損風險請自負，\n          如不能接受請勿下單。\n          如因宅配人為疏失造成的嚴重損壞，請於第一時間拍照存證與我們聯繫，\n          我們將會盡快與宅配公司商議賠償事宜。\n        ")]),s("q-tab-panel",{attrs:{name:"面交須知"}},[t._v("\n          單趟車程超過十五分鐘，\n          建議自備「保冷袋+冷媒」取貨。\n          甜點皆以冷凍方式交貨，\n          取貨後請於冰箱冷藏解凍三至五小時，\n          "),s("h6",{staticClass:"text-red text-weight-bold q-mt-md"},[t._v("請勿於室溫下解凍！")]),s("img",{staticClass:"line",attrs:{src:a("aa06")}}),t._v("\n          若要馬上食用可事先告知，會以冷藏或半冷凍方式交貨。\n          為求商品品質，欲將甜點攜帶至中北部者，\n          需自備「保冷袋+冷媒」至目的地後能冷藏或冷凍保存再食用，才可幫忙排單。\n          甜點不宜於室溫下久放，建議離開冰箱後盡早食用完畢。\n        ")])],1)],1)],1)])},i=[],n=a("0ade"),r=n["a"],o=a("2877"),c=a("9989"),l=a("ead5"),u=a("0016"),m=a("079e"),d=a("068f"),p=a("880c"),b=a("62cd"),g=a("27f9"),f=a("9c40"),v=a("429b"),x=a("7460"),h=a("adad"),y=a("823b"),q=a("eebe"),C=a.n(q),_=Object(o["a"])(r,s,i,!1,null,null,null);e["default"]=_.exports;C()(_,"components",{QPage:c["a"],QBreadcrumbs:l["a"],QIcon:u["a"],QBreadcrumbsEl:m["a"],QImg:d["a"],QCarousel:p["a"],QCarouselSlide:b["a"],QInput:g["a"],QBtn:f["a"],QTabs:v["a"],QTab:x["a"],QTabPanels:h["a"],QTabPanel:y["a"]})}}]);