(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"033b":function(t,e,i){},3005:function(t,e,i){"use strict";(function(t){var a=i("c973"),s=i.n(a),c=(i("96cf"),i("9911"),i("4de4"),i("d81d"),i("99af"),i("e915"));e["a"]={name:"PageProductList",data:function(){return{tab:"全部商品",link:"全部商品",products:[],display:0}},components:{ProductCard:c["a"]},methods:{show:function(t){switch(this.display=t,t){case 0:this.link="全部商品";break;case 1:this.link="千層蛋糕";break;case 2:this.link="軟餅乾";break;case 3:this.link="雪Q餅";break;case 4:this.link="瑪德蓮";break;case 5:this.link="檸檬塔";break;case 6:this.link="香橙醬";break;default:break}}},computed:{filterProducts:function(){var t=this;return this.products.filter((function(e){return 0===t.display||(1===t.display&&"千層蛋糕"===e.category||(2===t.display&&"軟餅乾"===e.category||(3===t.display&&"雪Q餅"===e.category||(4===t.display&&"瑪德蓮"===e.category||(5===t.display&&"檸檬塔"===e.category||6===t.display&&"香橙醬"===e.category)))))}))}},mounted:function(){var e=this;return s()(regeneratorRuntime.mark((function i(){var a,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,e.$axios.get("/products");case 3:a=i.sent,s=a.data,e.products=s.result.map((function(e){return e.image1&&(e.image1="".concat(t.env.API_URL,"/files/").concat(e.image1)),e})),i.next=11;break;case 8:i.prev=8,i.t0=i["catch"](0),e.$q.notify({message:"取得商品失敗",timeout:1e3,type:"negative",color:"faded",textColor:"white",position:"top"});case 11:case"end":return i.stop()}}),i,null,[[0,8]])})))()}}}).call(this,i("4362"))},3554:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"q-pt-lg",attrs:{id:"productlist"}},[i("div",{staticClass:"container"},[i("q-breadcrumbs",{staticClass:"text-bread q-pb-md q-pl-md",attrs:{"active-color":"text-bread"},scopedSlots:t._u([{key:"separator",fn:function(){return[i("q-icon",{attrs:{size:"1.5em",name:"chevron_right",color:"text-bread"}})]},proxy:!0}])},[i("q-breadcrumbs-el",{attrs:{label:"首頁",icon:"home",to:"/"}}),i("q-breadcrumbs-el",{attrs:{label:"商品列表"}})],1),i("q-tabs",{staticClass:"tab",attrs:{"mobile-arrows":"","inline-label":"","outside-arrows":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("q-tab",{attrs:{name:"全部",label:"全部"},on:{click:function(e){return t.show(0)}}}),i("q-tab",{attrs:{name:"千層",label:"千層"},on:{click:function(e){return t.show(1)}}}),i("q-tab",{attrs:{name:"軟餅乾",label:"軟餅乾"},on:{click:function(e){return t.show(2)}}}),i("q-tab",{attrs:{name:"雪Q餅",label:"雪Q餅"},on:{click:function(e){return t.show(3)}}}),i("q-tab",{attrs:{name:"瑪德蓮",label:"瑪德蓮"},on:{click:function(e){return t.show(4)}}}),i("q-tab",{attrs:{name:"檸檬塔",label:"檸檬塔"},on:{click:function(e){return t.show(5)}}}),i("q-tab",{attrs:{name:"香橙醬",label:"香橙醬"},on:{click:function(e){return t.show(6)}}})],1),i("div",{staticClass:"row justify-center q-mb-lg"},[i("div",{staticClass:"sidebar col-2"},[i("div",{staticClass:"q-pa-md"},[i("q-list",{staticClass:"rounded-borders text-grey-8",attrs:{bordered:""}},[i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",active:"全部商品"===t.link,"active-class":"menu-link"},on:{click:function(e){return t.show(0)}}},[i("q-item-section",[t._v("全部商品")])],1),i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",active:"千層蛋糕"===t.link,"active-class":"menu-link"},on:{click:function(e){return t.show(1)}}},[i("q-item-section",[t._v("千層蛋糕")])],1),i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",active:"軟餅乾"===t.link,"active-class":"menu-link"},on:{click:function(e){return t.show(2)}}},[i("q-item-section",[t._v("軟餅乾")])],1),i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",active:"雪Q餅"===t.link,"active-class":"menu-link"},on:{click:function(e){return t.show(3)}}},[i("q-item-section",[t._v("雪Q餅")])],1),i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",active:"瑪德蓮"===t.link,"active-class":"menu-link"},on:{click:function(e){return t.show(4)}}},[i("q-item-section",[t._v("瑪德蓮")])],1),i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",active:"檸檬塔"===t.link,"active-class":"menu-link"},on:{click:function(e){return t.show(5)}}},[i("q-item-section",[t._v("檸檬塔")])],1),i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",active:"香橙醬"===t.link,"active-class":"menu-link"},on:{click:function(e){return t.show(6)}}},[i("q-item-section",[t._v("香橙醬")])],1)],1)],1)]),i("div",{staticClass:"col-10"},[i("div",{staticClass:"row"},t._l(t.filterProducts,(function(t){return i("div",{key:t._id,staticClass:"col-12 col-md-6 col-lg-4 col-xl-3"},[i("ProductCard",{attrs:{product:t}})],1)})),0)])])],1)])},s=[],c=i("3005"),r=c["a"],n=i("2877"),o=i("9989"),l=i("ead5"),u=i("0016"),d=i("079e"),p=i("429b"),m=i("7460"),b=i("1c1c"),v=i("66e5"),k=i("4074"),f=i("714f"),h=i("eebe"),q=i.n(h),w=Object(n["a"])(r,a,s,!1,null,null,null);e["default"]=w.exports;q()(w,"components",{QPage:o["a"],QBreadcrumbs:l["a"],QIcon:u["a"],QBreadcrumbsEl:d["a"],QTabs:p["a"],QTab:m["a"],QList:b["a"],QItem:v["a"],QItemSection:k["a"]}),q()(w,"directives",{Ripple:f["a"]})},b22e:function(t,e,i){"use strict";i("033b")},e915:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"q-pa-md"},[i("router-link",{staticClass:"image",attrs:{to:"/product/"+t.product._id}},[i("q-img",{attrs:{src:t.product.image1}})],1),i("div",{staticClass:"text-center q-py-xs"},[i("div",{staticClass:"text-h6"},[t._v("\n      "+t._s(t.product.name)+"\n    ")])]),i("div",{staticClass:"text-subtitle2 text-center"},[t._v("\n    NT$"+t._s(t.product.price)+"\n  ")]),i("div",{staticClass:"text-center"},[i("q-btn",{staticClass:"text-product",attrs:{flat:""},on:{click:t.addCart}},[t._v("加入購物車")])],1)],1)},s=[],c={name:"ProductCard",props:{product:{type:Object,required:!0}},methods:{addCart:function(){var t=this;0===this.$store.state.user.jwt.token.length?(this.$store.commit("user/beforeLogin",this.product._id),this.$q.notify({message:"已加入購物車",timeout:1e3,type:"positive",color:"faded",textColor:"white",position:"top"})):this.$store.dispatch("user/addCart",{product:this.product._id}).then((function(e){t.$q.notify({message:"已加入購物車",timeout:1e3,type:"positive",color:"faded",textColor:"white",position:"top"})})).catch((function(e){console.log(e),t.$q.notify({message:"加入購物車失敗",timeout:1e3,type:"negative",color:"faded",textColor:"white",position:"top"})}))}}},r=c,n=(i("b22e"),i("2877")),o=i("068f"),l=i("9c40"),u=i("eebe"),d=i.n(u),p=Object(n["a"])(r,a,s,!1,null,null,null);e["a"]=p.exports;d()(p,"components",{QImg:o["a"],QBtn:l["a"]})}}]);